{% extends 'base2.html.twig' %}

{% block title %} Liste des Catégories {% endblock %}

{% block body %}

{% for message in app.session.flashBag.get('success') %}
    <div class="alert alert-success bg-success text-light border-0 alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}

  <div class="card">
      <div class="card-body">
          <h5 class="card-title">Liste des Catégories</h5>

         <a href="{{ path('categorie_cours_add') }}" class="btn btn-success">+ Ajouter catégorie</a><br><br>



          <!-- Table avec des lignes survolables -->
          <table class="table table-hover">
              <thead>
                  <tr>
                      <th scope="col">#</th>
                      <th scope="col">Nom de la Catégorie</th>
                      <th scope="col">Description</th>
                      <th scope="col">Details</th>
                  </tr>
              </thead>
              <tbody>
                  {% for categorie in categories %}
                      <tr>
                          <th scope="row">{{ loop.index }}</th>
                          <td>{{ categorie.nomCategorie }}</td>
                          <td>{{ categorie.descriptionCategorie }}</td>
                          <td>
                           <a href="{{ path('app_editcategoriecours', {'id': categorie.id}) }}" class="btn btn-warning"><i class="bi bi-pencil-square"></i> Modifier</a>

                           <a href="#" class="btn btn-danger delete-btn"data-url="{{ path('app_deletecategoriecours', {'id': categorie.id}) }}"data-entity="CategorieCours"data-genre="f"><i class="bi bi-trash"></i> Supprimer</a>
                           
                    
                          </td>
                      </tr>
                  {% else %}
                      <tr>
                          <td colspan="3" class="text-center">Aucune catégorie trouvée</td>
                      </tr>
                  {% endfor %}
              </tbody>
          </table>
          <!-- Fin de la Table -->
      </div>
  </div>
{% endblock %}

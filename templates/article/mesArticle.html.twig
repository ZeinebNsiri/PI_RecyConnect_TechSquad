{% extends 'basecnx.html.twig' %}

{% block title %}Hello ArticleController!{% endblock %}

{% block body %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

{% for message in app.flashes('success') %}
    <div class="alert alert-success alert-dismissible fade show d-flex justify-content-between align-items-center" role="alert">
        <span>{{ message }}</span>
        <span class="close-icon" style="cursor: pointer;" data-bs-dismiss="alert" aria-label="Close">
            X
        </span>
    </div>
{% endfor %}

<div class="container-xxl py-5">
  <div class="container">
      <div class="text-center mx-auto wow fadeInUp" data-wow-delay="0.1s" style="max-width: 500px;">
          <p class="fs-5 fw-bold text-primary">CHEZ RECYCONNECT</p>
          <h1 class="display-5 mb-5">Vous trouverez l'historique de tous vos articles déjà proposés</h1>
          <a class="btn btn-primary py-3 px-4" href={{ path('app_addArticle') }} style="margin-bottom: 50px;">Proposez un article </a>
          
      </div>
      
      <div class="row wow fadeInUp" data-wow-delay="0.3s">
          <div class="col-12 text-center">
              <ul class="list-inline rounded mb-5" id="portfolio-flters">
                  <li class="mx-2 active" data-filter="*">Tous les articles</li>
                  {% for article in articles %}
                  <li class="mx-2" >{{ article.categorie }}</li>
                  {% endfor %}
              </ul>
          </div>
      </div>
        
        <section >  
        <div class="container" data-aos="fade-up">
            <div class="row g-4">
                {% for article in articles %}
                    <div class="col">
                        <div class="card">
                            <div class="card-img">
                                <img src="{{ asset('uploads/photo_dir/' ~ article.imageArticle ) }}" alt="{{ article.nomArticle }}" class="img-fluid">
                            </div>
                            <div class="card-body">
                               <h5 class="card-title">
                                        <a href="#">{{ article.nomArticle }} <br> PU: {{ article.prix }} TN/Kg | {{ article.quantiteArticle }} Kg</a>
                                </h5>
                                <td><a class="detail-button" href='{{ path ('pp_updateArticle' , { 'id':article.id } ) }}'><i class="fas fa-edit"></i></a><td>
                            </div>
                        </div>
                    </div>
                {% else %}
                    <p class="text-center">Aucun article disponible pour le moment.</p>
                {% endfor %}
            </div>
        </div>
    </section>


    </div>
</div>
<!-- Projects End -->


<style>
  .card {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    height: 100%;
    margin: 0 auto;
  }

  .card-img img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: 10px;
  }

  .card-body {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 10px;
    width: 100%;
  }

  .card-title a {
    text-decoration: none;
    color: green;
    font-weight: bold;
    font-size: 18px;
  }

  .detail-button {
    background-color: green;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    transition: background-color 0.3s;
  }

  .detail-button:hover {
    background-color: darkgreen;
  }

  .detail-button i {
    margin-left: 5px;
  }

  .row.g-4 {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    justify-content: center;
  }

  .col-lg-6.col-md-6 {
    width: 100%;
  }
</style>


{% endblock %}

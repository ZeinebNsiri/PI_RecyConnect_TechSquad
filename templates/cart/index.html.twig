{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
   <main class="container">
       <section class="row">
           <div class="col-12">
               <h1>Panier</h1>

                   <table class="table">
                       <thead>
                           <tr>
                               <th>Article</th>
                               <th>Prix</th>
                               <th>Quantit√©</th>
                               <th>Total</th>
                               <th>Actions</th>
                           </tr>
                       </thead>
                       <tbody>
                           {% for item in data %}
                               <tr>
                                   <td>{{ item.article.nomArticle }}</td>
                                   <td>{{ item.article.prix }} Dt </td>
                                   <td>{{ item.quantite }}</td>
                                   <td>{{ item.quantite * item.article.prix}} Dt </td>
                                   <td>
                                   <a href="{{ path('cart_add',{id: item.article.id})}}" class="btn btn-success"> + </a>
                                    <a href="{{ path('remove',{id: item.article.id})}}" class="btn btn-warning"> - </a>
                                    <a href="{{ path('delete',{id: item.article.id})}}" class="btn btn-danger"> supprimer </a>
                                   </td>
                               </tr>
                               {% else %}
                               <tr>
                               <td colspan="5"> Votre panier est vide </td>
                               </tr>
                           {% endfor %}
                       </tbody>
                     
                   </table>

                   <h3>Total : {{ total | number_format(2, ',', ' ') }} Dt</h3>
                   <td>
                   <a href="{{ path('empty')}}"  class="btn btn-danger" >Vider</a>
                   </td>
               
           </div>
       </section>
   </main>
{% endblock %}
